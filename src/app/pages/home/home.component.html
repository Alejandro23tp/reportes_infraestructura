<div class="min-h-screen bg-gray-100 dark:bg-gray-900">
  <div class="container mx-auto px-4 py-8">
    <!-- Layout principal con sidebar -->
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
      <!-- Sidebar izquierdo -->
      <div class="hidden lg:block lg:col-span-3">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 sticky top-8">
          <div class="flex items-center space-x-4 mb-6">
            <div class="w-12 h-12 rounded-full bg-gradient-to-r from-blue-500 to-purple-500"></div>
            <div>
              <h3 class="font-bold text-gray-900 dark:text-white">Bienvenido</h3>
              <p class="text-sm text-gray-500 dark:text-gray-400">Reportes Comunitarios</p>
            </div>
          </div>
          <nav class="space-y-2">
            <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300">
              <span>üè†</span>
              <span>Inicio</span>
            </a>
            <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50">
              <span>üìä</span>
              <span>Estad√≠sticas</span>
            </a>
            <a href="#" class="flex items-center space-x-3 px-4 py-3 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50">
              <span>‚≠ê</span>
              <span>Destacados</span>
            </a>
          </nav>
        </div>
      </div>

      <!-- Feed principal -->
      <div class="lg:col-span-6">
        <!-- Formulario de creaci√≥n -->
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-8">
          <div class="flex items-center space-x-4 mb-6">
            <div class="w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700"></div>
            <button 
              (click)="toggleFormulario()" 
              class="flex-1 text-left px-4 py-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-600/50">
              ¬øQu√© quieres reportar hoy?
            </button>
          </div>

          <!-- Formulario expandible -->
          <form *ngIf="mostrarFormulario" (ngSubmit)="crearReporte()" #reporteForm="ngForm" class="space-y-6">
            <div *ngIf="errorMessage" class="bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 p-4">
              <p class="text-red-700 dark:text-red-400">{{ errorMessage }}</p>
            </div>

            <div class="space-y-4">
              <select 
                [(ngModel)]="nuevoReporte.categoria_id" 
                name="categoria_id" 
                class="w-full rounded-lg border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white focus:ring-2 focus:ring-blue-500"
                required>
                <option value="" disabled selected>Selecciona una categor√≠a</option>
                <option *ngFor="let categoria of categorias" [value]="categoria.id">{{ categoria.nombre }}</option>
              </select>

              <div class="flex gap-2">
                <input 
                  type="text" 
                  [(ngModel)]="nuevoReporte.ubicacion" 
                  name="ubicacion" 
                  class="flex-1 rounded-lg border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white" 
                  readonly 
                  placeholder="Ubicaci√≥n"
                  required>
                <button 
                  type="button" 
                  (click)="getGeolocalizacion()" 
                  class="px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-all">
                  üìç
                </button>
              </div>

              <textarea 
                [(ngModel)]="nuevoReporte.descripcion" 
                name="descripcion" 
                class="w-full rounded-lg border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-white" 
                rows="3" 
                placeholder="Describe el problema..."
                required>
              </textarea>

              <div class="border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 hover:border-blue-500 transition-colors">
                <input 
                  type="file" 
                  (change)="onImageChange($event)" 
                  class="hidden" 
                  id="imagen"
                  required>
                <label for="imagen" class="flex flex-col items-center justify-center cursor-pointer">
                  <svg class="w-8 h-8 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                  </svg>
                  <span class="mt-2 text-sm text-gray-500 dark:text-gray-400">A√±adir imagen</span>
                </label>
              </div>
            </div>

            <div class="flex justify-end">
              <button 
                type="submit" 
                [disabled]="!reporteForm.valid" 
                class="px-6 py-2.5 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white font-medium rounded-lg transition-all">
                Publicar
              </button>
            </div>
          </form>
        </div>

        <!-- Lista de reportes -->
        <div class="space-y-6">
          <div *ngFor="let reporte of listReports" 
               class="bg-white dark:bg-gray-800 rounded-xl shadow-lg overflow-hidden transform hover:shadow-xl transition-all">
            <!-- Cabecera del reporte -->
            <div class="p-6">
              <div class="flex items-center justify-between mb-4">
                <div class="flex items-center space-x-3">
                  <div class="w-10 h-10 rounded-full bg-gradient-to-r from-purple-500 to-pink-500"></div>
                  <div>
                    <h3 class="font-semibold text-gray-900 dark:text-white">{{ reporte.usuario.nombre }}</h3>
                    <p class="text-sm text-gray-500 dark:text-gray-400">{{ reporte.created_at | date:'medium' }}</p>
                  </div>
                </div>
                <button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
                  ‚Ä¢‚Ä¢‚Ä¢
                </button>
              </div>

              <!-- Contenido del reporte -->
              <p class="text-gray-700 dark:text-gray-300 mb-4">{{ reporte.descripcion }}</p>
              
              <div class="flex flex-wrap gap-2 mb-4">
                <span class="px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300 rounded-full">
                  {{ reporte.estado }}
                </span>
                <span class="px-3 py-1 text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300 rounded-full">
                  {{ reporte.urgencia }}
                </span>
                <span class="px-3 py-1 text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300 rounded-full">
                  üìç {{ reporte.ubicacion.lat }}, {{ reporte.ubicacion.lon }}
                </span>
              </div>
            </div>

            <!-- Imagen del reporte -->
            <img 
              [src]="reporte.imagen_url" 
              alt="Imagen del reporte" 
              class="w-full h-auto">

            <!-- Acciones del reporte -->
            <div class="p-6 border-t border-gray-100 dark:border-gray-700">
              <div class="flex items-center justify-between">
                <div class="flex items-center space-x-4">
                  <button class="flex items-center space-x-2 text-gray-500 hover:text-red-500 transition-colors">
                    <span>‚ù§Ô∏è</span>
                    <span class="text-sm">24</span>
                  </button>
                  <button class="flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors">
                    <span>üí¨</span>
                    <span class="text-sm">3</span>
                  </button>
                </div>
                <button class="text-gray-500 hover:text-blue-500 transition-colors">
                  üîó
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Sidebar derecho -->
      <div class="hidden lg:block lg:col-span-3">
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 sticky top-8">
          <h3 class="font-bold text-gray-900 dark:text-white mb-4">Reportes Destacados</h3>
          <div class="space-y-4">
            <!-- Elementos destacados aqu√≠ -->
            <div class="flex items-center space-x-3 p-3 rounded-lg bg-gray-50 dark:bg-gray-700/50">
              <div class="w-10 h-10 rounded-lg bg-blue-100 dark:bg-blue-900/30"></div>
              <div class="flex-1">
                <p class="text-sm font-medium text-gray-900 dark:text-white">Reporte m√°s votado</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Hace 2 horas</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
